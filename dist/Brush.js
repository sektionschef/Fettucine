class Brush{constructor(e){this.type=e.type,this.noiseColor=getRandomFromList(e.noiseColor),this.size=e.size,this.strokeSize=e.strokeSize,this.fillColor=e.fillColor,this.strokeColor=e.strokeColor,this.curveSexyness=e.curveSexyness,this.pixelDistort=e.pixelDistort,this.opacityDistort=e.opacityDistort,this.buffer=createGraphics(this.size,this.size),this.center=createVector(this.buffer.width/2,this.buffer.height/2),this.maxDist=Math.sqrt(this.buffer.width**2+this.buffer.height**2);let t=getRandomFromInterval(0,this.buffer.width/2),i=getRandomFromInterval(0,this.buffer.height/2),s=getRandomFromInterval(this.buffer.width/2,this.buffer.width),r=getRandomFromInterval(0,this.buffer.height/2),h=getRandomFromInterval(0,this.buffer.width/2),f=getRandomFromInterval(this.buffer.height/2,this.buffer.height),o=getRandomFromInterval(this.buffer.width/2,this.buffer.width),u=getRandomFromInterval(this.buffer.height/2,this.buffer.height);this.buffer.push(),this.buffer.curveTightness(this.curveSexyness),"Stroke Noise"==this.type?this.buffer.noFill():this.buffer.fill(this.fillColor),this.buffer.stroke(this.strokeColor),this.buffer.strokeWeight(this.strokeSize),this.buffer.beginShape(),this.buffer.curveVertex(t,i),this.buffer.curveVertex(t,i),this.buffer.curveVertex(s,r),this.buffer.curveVertex(o,u),this.buffer.curveVertex(h,f),this.buffer.curveVertex(h,f),this.buffer.endShape(CLOSE),this.buffer.pop(),this.pixelManipulation()}pixelManipulation(){let e,t,i;this.buffer.loadPixels();let s=0;for(e=0;e<this.buffer.width;e++){let o=0;for(t=0;t<this.buffer.height;t++){if(i=4*(e+t*this.buffer.width),"Stroke Noise"==this.type){var r=getRandomFromInterval(-this.pixelDistort,this.pixelDistort);0!=this.buffer.pixels[i+3]&&(this.buffer.pixels[i+0]+=r,this.buffer.pixels[i+1]+=r,this.buffer.pixels[i+2]+=r,this.buffer.pixels[i+3]=this.buffer.pixels[i+3])}if("Fill Noise"==this.type){var h=map(p5.Vector.dist(this.center,createVector(e,t)),0,this.maxDist,0,1),f=(r=getRandomFromInterval(-this.pixelDistort,this.pixelDistort),getRandomFromInterval(-this.opacityDistort,0));0!=this.buffer.pixels[i+3]&&(fxrand()>h?(this.buffer.pixels[i+0]=0,this.buffer.pixels[i+1]=0,this.buffer.pixels[i+2]=0,this.buffer.pixels[i+3]=0):(this.buffer.pixels[i+0]=red(this.noiseColor)+r,this.buffer.pixels[i+1]=green(this.noiseColor)+r,this.buffer.pixels[i+2]=blue(this.noiseColor)+r,this.buffer.pixels[i+3]=this.buffer.pixels[i+3]+f))}o+=.1}s+=.1}this.buffer.updatePixels()}}